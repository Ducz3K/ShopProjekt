<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Sklepik Internetowy</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<div class="top-bar">
    <div class="logo">ğŸ›ï¸ MÃ³jSklep</div>
    <div class="top-buttons">
        <!-- Sprawdzamy, czy uÅ¼ytkownik jest zalogowany -->
        <div th:if="${username != null}">
            <span th:text="'Witaj, ' + ${username}"></span>
            <a href="/logout"><button>Wyloguj siÄ™</button></a>
        </div>

        <!-- JeÅ›li uÅ¼ytkownik nie jest zalogowany, wyÅ›wietl przycisk do logowania -->
        <a href="/login" th:if="${username == null}"><button>Zaloguj siÄ™</button></a>

        <a href="/koszyk">
            <button>ğŸ›’ Koszyk (<span th:text="${cartSize}">0</span>)</button>
        </a>
    </div>
</div>

<h1>Sklepik Internetowy</h1>

<div class="product-grid">
    <div class="product" th:each="productEntry : ${Products}">
        <img th:src="${productEntry.value.imageUrl}" th:alt="${productEntry.value.name}">
        <h3 th:text="${productEntry.value.name}">Nazwa produktu</h3>
        <p th:text="${productEntry.value.description}">Opis produktu</p>
        <p style="font-weight: bold; color: #a67c52;" th:text="'Cena: ' + ${productEntry.value.price} + ' zÅ‚'">Cena: 0.00 zÅ‚</p>
        <form action="/dodaj" method="post">
            <input type="hidden" name="id" th:value="${productEntry.key}">
            <button class="btn" type="submit">Dodaj do koszyka</button>
        </form>
    </div>
</div>

<footer>
    <p>&copy; 2025 MÃ³jSklep - Wszelkie prawa zastrzeÅ¼one</p>
</footer>

</body>
</html>
